#!/bin/bash

# Check if the user is root
if [ "$EUID" -ne 0 ]; then
  echo "Please run as root"
  exit 1
fi

# Update package list and install cpanminus
apt update
apt install cpanminus -y

# Navigate to /opt and create the offensive_Tools directory
cd /opt
mkdir offensive_Tools
cd offensive_Tools

# Clone the repositories and download the files
git clone https://github.com/jordansissel/fpm.git
git clone https://github.com/lgandx/PCredz.git
git clone https://github.com/BornToBeRoot/PowerShell_IPv4PortScanner.git
git clone https://github.com/arthaud/git-dumper.git
git clone https://github.com/0xbigshaq/firepwn-tool.git
git clone https://github.com/BeichenDream/GodPotato.git
git clone https://github.com/kimocoder/OneShot.git
git clone https://github.com/nicocha30/ligolo-ng.git
git clone https://github.com/kurobeats/fimap.git
git clone https://github.com/FSecureLABS/SharpGPOAbuse.git
git clone https://github.com/CiscoCXSecurity/rdp-sec-check.git
wget https://github.com/Arrexel/phpbash/raw/master/phpbash.php -O phpbash.php
wget https://github.com/antonioCoco/RunasCs/raw/master/Invoke-RunasCs.ps1 -O Invoke-RunasCs.ps1

# Install Perl module
cpanm Encoding::BER

# Copy rdp-sec-check script to /usr/bin
cp /opt/rdp-sec-check/rdp-sec-check.pl /usr/bin/rdp-sec-check

# Output completion message
echo "Repositories cloned, files downloaded, and necessary packages installed successfully."
